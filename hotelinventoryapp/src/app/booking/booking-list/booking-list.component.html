<div class="d-flex justify-content-center my-4">
  <div class="d-flex align-items-center flex-wrap gap-3">

    <label class="form-label mb-0 fw-bold text-success">
      Guest Name Filter:
    </label>
    <input type="text" class="form-control w-auto" [formControl]="BookingNamefilter" placeholder="Enter Guest Name">
  </div>
</div>

<div class="container mt-4">

  <!-- Booking List Table -->
  <div class="d-flex justify-content-center my-4">
    <div class="d-flex align-items-center flex-wrap gap-3">
      <div class="bg-primary text-white p-3 rounded">
        <h4 class="mb-0">Booking History List</h4>
      </div>
    </div>
  </div>
  <div class="table-responsive mb-5">
    <table class="table table-bordered table-striped table-hover align-middle">
      <thead class="table-primary">
        <tr>
          <th>BookingID</th>
          <th>Guest Name</th>
          <th>Passport</th>
          <th>Guest Email</th>
          <th>Mobile Number</th>
          <th>Check-in Date</th>
          <th>Check-out Date</th>
          <th>Booking Status</th>
          <th>Booking Amount</th>
          <th>Booking Date</th>
          <th>Edit</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let booking of BookingFormList|searchBookList:BookingNamefilter.value?BookingNamefilter.value:''">
          <td>{{ booking.bookingID }}</td>
          <td>{{ booking.guestName }}</td>
          <td>{{ booking.passport? booking.passport:"no"}}</td>
          <td>{{ booking.guestEmail }}</td>
          <td>{{ booking.mobileNumber }}</td>
          <td>{{ booking.checkinDate | date: 'shortDate' }}</td>
          <td>{{ booking.checkoutDate | date: 'shortDate' }}</td>
          <td>{{ booking.bookingStatus }}</td>
          <td>{{ booking.bookingAmount | currency }}</td>
          <td>{{ booking.bookingDate | date: 'shortDate' }}</td>
          <td>
            <button class="btn btn-primary btn-sm" (click)="onEditBooking(booking)" [disabled]="disableDelete">
              Edit
            </button>
          </td>
          <td>
            <button class="btn btn-danger btn-sm" (click)="onDeleteBooking(booking.bookingID)"
              [disabled]="disableDelete">
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Address Table -->
  <div class="d-flex justify-content-center my-4">
    <div class="d-flex align-items-center flex-wrap gap-3">
      <div class="bg-primary text-white p-3 rounded">
        <h4 class="mb-0">Address List</h4>
      </div>
    </div>
  </div>
  <div class="table-responsive mb-5">
    <table class="table table-bordered table-striped table-hover align-middle">
      <thead class="table-info">
        <tr>
          <th>BookingID</th>
          <th>Address Line 1</th>
          <th>Address Line 2</th>
          <th>City</th>
          <th>State</th>
          <th>Country</th>
          <th>Zip Code</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let booking of BookingFormList | searchBookList:BookingNamefilter.value?BookingNamefilter.value:''">
          <td>{{ booking.bookingID }}</td>
          <td>{{ booking.address.addressLine1 }}</td>
          <td>{{ booking.address.addressLine2 }}</td>
          <td>{{ booking.address.city }}</td>
          <td>{{ booking.address.state }}</td>
          <td>{{ booking.address.country }}</td>
          <td>{{ booking.address.zipCode }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Guest Form Table -->
  <div class="d-flex justify-content-center my-4">
    <div class="d-flex align-items-center flex-wrap gap-3">
      <div class="bg-primary text-white p-3 rounded">
        <h4 class="mb-0">Guest List</h4>
      </div>
    </div>
  </div>
  <div class="table-responsive">
    <table class="table table-bordered table-striped table-hover align-middle">
      <thead class="table-warning">
        <tr>
          <th>BookingID</th>
          <th>Guest Owner</th>
          <th>Guest Name</th>
          <th>Age</th>
        </tr>
      </thead>
      <tbody>
        <ng-container
          *ngFor="let booking of BookingFormList | searchBookList:BookingNamefilter.value?BookingNamefilter.value:''">
          <tr *ngFor="let guest of booking.guestForm">
            <td>{{ booking.bookingID }}</td>
            <td>{{ booking.guestName}}</td>
            <td>{{ guest.guestName }}</td>
            <td>{{ guest.age }}</td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>

</div>